A REPL interface to communicate with Jupyter kernels in Emacs or CLI.

[[https://s3.amazonaws.com/dropbox.nakkaya.com/inf-ipy.png]]

* Table of Contents                                                     :TOC:

- [[Installation][Installation]]
- [[Quickstart][Quickstart]]
 - [[CLI][Command Line Interface]]
 - [[Emacs][Emacs Interface]]

* Installation

=inf-ipy= is made up of two parts. Python part that handles
communication with Jupyter and provides two REPL interfaces one
specialized for use in command line and one specialized for in Emacs.

Machines that will run the kernels or connect to them only requires
=SSH= and =Jupyter= to be installed. Tested on =Linux= / =Windows=.

** Using Package Managers

Python

#+BEGIN_SRC bash
  pip install inf-ipy
#+END_SRC

Emacs from MELPA

#+BEGIN_EXAMPLE
  M-x package-install RET inf-ipy RET
#+END_EXAMPLE

** Manual

#+BEGIN_SRC bash
  # For python
  cd src/python
  pip install .
#+END_SRC

#+BEGIN_SRC emacs-lisp
  (load-file "src/emacs/inf-ipy.el")
#+END_SRC

* Quickstart
** CLI

To start a kernel on a remote machine.

#+BEGIN_SRC bash
  inf-ipy --host remote_host --start
#+END_SRC
    
This will launch the remote kernel and download the connection file to
the current directory via SSH.

To interact with the remote kernel on the local machine.

#+BEGIN_SRC bash
  inf-ipy --host remote_host --repl --file conn_file
#+END_SRC

To stop the kernel.

#+BEGIN_SRC bash
  inf-ipy --host remote_host --stop --file conn_file
#+END_SRC

To select a different kernel other than Python =--kernel= option
can be used. To start a Matlab kernel use.

#+BEGIN_SRC bash
  inf-ipy --host remote_host --start --kernel matlab_kernel.kernel.MatlabKernel
#+END_SRC

Server configuration can be kept in a config file called =config.ini=.

#+BEGIN_SRC conf
  [SERVER]
  host = 10.9.0.150
  file = server.json
#+END_SRC

For a complete list of options use =inf-ipy --help=

** Emacs

Once a kernel is started (using a configuration file) an Emacs REPL to
that kernel can be created using =M-x inf-ipy=. (Make sure =inf-ipy= is
executed in the same folder where =config.ini= is.)

Integration with =org-babel= can be enabled using,

#+BEGIN_SRC emacs-lisp
  ;; Enable org-babel support for Python and Matlab
  (inf-ipy-configure-kernel python)
  (inf-ipy-configure-kernel matlab)
#+END_SRC

To interact with a python kernel you would create a new
source block using,

#+BEGIN_EXAMPLE
  ,#+BEGIN_SRC inf-ipy-python
  x = 'foo'
  y = 'bar'
  x + ' ' + y
  ,#+END_SRC
#+END_EXAMPLE
